"use strict";(self["webpackChunkweb"]=self["webpackChunkweb"]||[]).push([[223],{223:function(t,e,a){a.r(e),a.d(e,{default:function(){return A}});var s=a(641),c=a(33);const o={class:"container mx-auto p-8"},l={class:"admin bg-secondary text-textPrimary p-8 shadow-md rounded-lg"},n=(0,s.Lk)("h1",{class:"text-3xl font-bold"},"Admin Dashboard",-1),r={key:0},d={class:"w-full mt-4 border-collapse"},i=(0,s.Lk)("thead",null,[(0,s.Lk)("tr",null,[(0,s.Lk)("th",{class:"border p-2"},"Name"),(0,s.Lk)("th",{class:"border p-2"},"Email"),(0,s.Lk)("th",{class:"border p-2"},"Message"),(0,s.Lk)("th",{class:"border p-2"},"Actions")])],-1),h={class:"border p-2"},u={class:"border p-2"},k={class:"border p-2"},b={class:"border p-2"},p=["onClick"],m={key:1},L=(0,s.Lk)("p",null,"No contacts available.",-1),g=[L];function f(t,e,a,L,f,y){return(0,s.uX)(),(0,s.CE)("div",o,[(0,s.Lk)("section",l,[n,f.contacts.length?((0,s.uX)(),(0,s.CE)("div",r,[(0,s.Lk)("table",d,[i,(0,s.Lk)("tbody",null,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(f.contacts,(t=>((0,s.uX)(),(0,s.CE)("tr",{key:t._id},[(0,s.Lk)("td",h,(0,c.v_)(t.name),1),(0,s.Lk)("td",u,(0,c.v_)(t.email),1),(0,s.Lk)("td",k,(0,c.v_)(t.message),1),(0,s.Lk)("td",b,[(0,s.Lk)("button",{onClick:e=>y.deleteContact(t._id),class:"bg-red-500 text-white px-2 py-1 rounded"},"Delete",8,p)])])))),128))])])])):((0,s.uX)(),(0,s.CE)("div",m,g))])])}a(4114);var y=a(4335),C={name:"AdminView",data(){return{contacts:[]}},async created(){const t=localStorage.getItem("token");if(t)try{const e=await y.A.get("http://localhost:3000/contacts",{headers:{Authorization:t}});this.contacts=e.data}catch(e){alert("Failed to fetch contacts: "+e.message)}else this.$router.push("/login")},methods:{async deleteContact(t){const e=localStorage.getItem("token");try{await y.A.delete(`http://localhost:3000/contacts/${t}`,{headers:{Authorization:e}}),this.contacts=this.contacts.filter((e=>e._id!==t))}catch(a){alert("Failed to delete contact: "+a.message)}}}},v=a(6262);const w=(0,v.A)(C,[["render",f]]);var A=w}}]);
//# sourceMappingURL=223.c39274c1.js.map